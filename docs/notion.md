# AI ê´‘ê³  ì˜ìƒ ìŠ¤í† ë¦¬ë³´ë“œ í”Œë«í¼

> **AI ê¸°ë°˜ ê´‘ê³  ì˜ìƒ ìë™ ìƒì„± SaaS í”Œë«í¼**
>
> ì”¬ ê¸°ë°˜ ìŠ¤í† ë¦¬ë³´ë“œë¡œ AIê°€ ê´‘ê³  ì˜ìƒì„ ìë™ ìƒì„±í•©ë‹ˆë‹¤.
> ì´ë¯¸ì§€ ìƒì„±ë¶€í„° í´ë¦½ ì œì‘, ìµœì¢… ë³‘í•©ê¹Œì§€ ì›í´ë¦­ìœ¼ë¡œ ì™„ì„±í•˜ì„¸ìš”.

---

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
2. [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
3. [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
4. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
5. [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](#ë°ì´í„°ë² ì´ìŠ¤-ì„¤ê³„)
6. [API ë° Server Actions](#api-ë°-server-actions)
7. [n8n ì›Œí¬í”Œë¡œìš°](#n8n-ì›Œí¬í”Œë¡œìš°)
8. [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
9. [ì„¤ì¹˜ ë° ì‹¤í–‰](#ì„¤ì¹˜-ë°-ì‹¤í–‰)
10. [í™˜ê²½ ë³€ìˆ˜](#í™˜ê²½-ë³€ìˆ˜)

---

## í”„ë¡œì íŠ¸ ê°œìš”

### ë°°ê²½ ë° ëª©ì 

ê´‘ê³  ì˜ìƒ ì œì‘ì€ ê¸°íš, ì´¬ì˜, í¸ì§‘ ë“± ë§ì€ ì‹œê°„ê³¼ ë¹„ìš©ì´ ì†Œìš”ë©ë‹ˆë‹¤. ë³¸ í”Œë«í¼ì€ AI ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ ìƒí’ˆ ì´ë¯¸ì§€ì™€ ê°„ë‹¨í•œ ì •ë³´ë§Œìœ¼ë¡œ ì „ë¬¸ì ì¸ ê´‘ê³  ì˜ìƒì„ ìë™ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤.

### í•µì‹¬ ê°€ì¹˜

| ê°€ì¹˜ | ì„¤ëª… |
|------|------|
| **íš¨ìœ¨ì„±** | ê¸°ì¡´ ì˜ìƒ ì œì‘ ëŒ€ë¹„ 90% ì´ìƒ ì‹œê°„ ì ˆê° |
| **ì ‘ê·¼ì„±** | ì „ë¬¸ ì§€ì‹ ì—†ì´ë„ ê³ í’ˆì§ˆ ì˜ìƒ ì œì‘ ê°€ëŠ¥ |
| **ë¹„ìš© ì ˆê°** | í¬ë ˆë”§ ê¸°ë°˜ í•©ë¦¬ì ì¸ ê°€ê²© ì •ì±… |
| **ìœ ì—°ì„±** | ì”¬ ë‹¨ìœ„ ì„¸ë°€í•œ ì»¤ìŠ¤í„°ë§ˆì´ì§• ì§€ì› |

### íƒ€ê²Ÿ ì‚¬ìš©ì

- ì†Œê·œëª¨ ì´ì»¤ë¨¸ìŠ¤ ì…€ëŸ¬
- 1ì¸ ì°½ì—…ì ë° ìŠ¤íƒ€íŠ¸ì—…
- ë§ˆì¼€íŒ… ë‹´ë‹¹ì
- ì½˜í…ì¸  í¬ë¦¬ì—ì´í„°

---

## ì£¼ìš” ê¸°ëŠ¥

### 1. ìŠ¤í† ë¦¬ë³´ë“œ ì—ë””í„°

ì”¬(Scene) ê¸°ë°˜ì˜ ì§ê´€ì ì¸ ì˜ìƒ ìŠ¤í† ë¦¬ë³´ë“œ í¸ì§‘ ë„êµ¬ì…ë‹ˆë‹¤.

#### ìŠ¤í† ë¦¬ë³´ë“œ ê´€ë¦¬
- **ìƒì„±**: ì œëª©, ì„¤ëª…, í™”ë©´ë¹„ìœ¨(16:9, 9:16), ê¸°ë³¸ ì”¬ ê¸¸ì´ ì„¤ì •
- **AI ì´ˆì•ˆ ìƒì„±**: ìƒí’ˆ ì •ë³´ ê¸°ë°˜ ìë™ ìŠ¤í† ë¦¬ë³´ë“œ êµ¬ì„±
- **ìƒí’ˆ ì°¸ì¡° ì´ë¯¸ì§€**: ì¼ê´€ëœ ì œí’ˆ í‘œí˜„ì„ ìœ„í•œ ì°¸ì¡° ì´ë¯¸ì§€ ë“±ë¡

#### ì”¬ í¸ì§‘
| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| **ì”¬ ì„¤ëª…** | ì‹œê°ì  ìš”ì†Œ ë° ì—°ì¶œ ì˜ë„ ì‘ì„± |
| **ëŒ€ì‚¬/ë‚˜ë ˆì´ì…˜** | ë‚˜ë ˆì´ì…˜, ìºë¦­í„° ëŒ€ì‚¬, ìë§‰ íƒ€ì… ì„ íƒ |
| **ë¹„ì£¼ì–¼ í”„ë¡¬í”„íŠ¸** | AI ì´ë¯¸ì§€ ìƒì„±ì„ ìœ„í•œ ìƒì„¸ í”„ë¡¬í”„íŠ¸ |
| **ì¹´ë©”ë¼ ì•µê¸€** | ì•„ì´ë ˆë²¨, í•˜ì´ì•µê¸€, ë¡œìš°ì•µê¸€, í´ë¡œì¦ˆì—… ë“± 9ì¢… |
| **ì¹´ë©”ë¼ ì›€ì§ì„** | ê³ ì •, íŒ¬, í‹¸íŠ¸, ì¤Œ, ëŒë¦¬, íŠ¸ë˜í‚¹ ë“± 10ì¢… |
| **íŠ¸ëœì§€ì…˜** | ì»·, í˜ì´ë“œ, ë””ì¡¸ë¸Œ, ì™€ì´í”„ ë“± 8ì¢… |
| **ì”¬ ê¸¸ì´** | 4ì´ˆ, 8ì´ˆ, 12ì´ˆ (Sora API ì§€ì›) |

#### ë“œë˜ê·¸ ì•¤ ë“œë¡­
- ì”¬ ìˆœì„œ ë³€ê²½
- ì”¬ ë³µì œ ë° ì‚­ì œ
- ì‹¤ì‹œê°„ íƒ€ì„ë¼ì¸ ë¯¸ë¦¬ë³´ê¸°

### 2. AI ìƒì„± íŒŒì´í”„ë¼ì¸

```
ìƒí’ˆ ì •ë³´ ì…ë ¥ â†’ AI ì´ˆì•ˆ ìƒì„± â†’ ì”¬ë³„ ì´ë¯¸ì§€ ìƒì„± â†’ ì”¬ë³„ í´ë¦½ ìƒì„± â†’ ìµœì¢… ë³‘í•©
```

#### ìƒì„± ë‹¨ê³„ë³„ ìƒì„¸

| ë‹¨ê³„ | AI ëª¨ë¸ | ì„¤ëª… |
|------|---------|------|
| AI ì´ˆì•ˆ | Gemini | ìƒí’ˆ ì •ë³´ ê¸°ë°˜ ìŠ¤í† ë¦¬ë³´ë“œ ìë™ êµ¬ì„± |
| ì´ë¯¸ì§€ ìƒì„± | Gemini Imagen | ë¹„ì£¼ì–¼ í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ ê³ í’ˆì§ˆ ì´ë¯¸ì§€ |
| í´ë¦½ ìƒì„± | Sora (OpenAI) | ì´ë¯¸ì§€ â†’ ì˜ìƒ ë³€í™˜, ì¹´ë©”ë¼ ì›€ì§ì„ ì ìš© |
| ìµœì¢… ë³‘í•© | FFmpeg | íŠ¸ëœì§€ì…˜, BGM, ìë§‰ í•©ì„± |

#### ë¹„ë™ê¸° ì²˜ë¦¬
- ì¦‰ì‹œ ì‘ë‹µ í›„ ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬
- 10ì´ˆ ê°„ê²© í´ë§ìœ¼ë¡œ ì™„ë£Œ í™•ì¸
- ìµœëŒ€ 10ë¶„ íƒ€ì„ì•„ì›ƒ (ì¬ì‹œë„ 8íšŒ ì œí•œ)
- Supabase Realtimeìœ¼ë¡œ ì‹¤ì‹œê°„ ìƒíƒœ ì—…ë°ì´íŠ¸

### 3. í¬ë ˆë”§ ì‹œìŠ¤í…œ

| ê¸°ëŠ¥ | ì†Œìš” í¬ë ˆë”§ |
|------|------------|
| AI ì´ˆì•ˆ ìƒì„± | 10 í¬ë ˆë”§ |
| ì”¬ ì´ë¯¸ì§€ ìƒì„± | 5 í¬ë ˆë”§ |
| ì”¬ í´ë¦½ ìƒì„± | 20 í¬ë ˆë”§ |
| ìµœì¢… ë³‘í•© | 30 í¬ë ˆë”§ |

#### í¬ë ˆë”§ ê´€ë¦¬
- ì”ì•¡ ì‹¤ì‹œê°„ í‘œì‹œ
- ë¶€ì¡± ì‹œ ê²°ì œ ìœ ë„ ëª¨ë‹¬
- ì‚¬ìš© ë‚´ì—­ ì¶”ì 
- ê´€ë¦¬ì ì§€ê¸‰ ê¸°ëŠ¥

### 4. ê²°ì œ ì‹œìŠ¤í…œ

**Toss Payments ì—°ë™**

| íŒ¨í‚¤ì§€ | í¬ë ˆë”§ | ê°€ê²© |
|--------|--------|------|
| ìŠ¤íƒ€í„° | 100 | â‚©9,900 |
| ë² ì´ì§ | 300 | â‚©24,900 |
| í”„ë¡œ | 1,000 | â‚©69,900 |

### 5. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ

- ì‚¬ìš©ì ê´€ë¦¬ ë° í¬ë ˆë”§ ì§€ê¸‰
- ê²°ì œ ë‚´ì—­ ì¡°íšŒ
- ìƒì„± ë¡œê·¸ ëª¨ë‹ˆí„°ë§
- ë¶„ì„ ëŒ€ì‹œë³´ë“œ

---

## ê¸°ìˆ  ìŠ¤íƒ

### Frontend

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| **Next.js** | 15.5.9 | App Router, Server Components |
| **React** | 19.2.3 | UI ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| **TypeScript** | 5.x | íƒ€ì… ì•ˆì •ì„± |
| **Tailwind CSS** | v4 | ìŠ¤íƒ€ì¼ë§ |
| **shadcn/ui** | latest | UI ì»´í¬ë„ŒíŠ¸ (Radix ê¸°ë°˜) |
| **Framer Motion** | latest | ì• ë‹ˆë©”ì´ì…˜ |
| **lucide-react** | latest | ì•„ì´ì½˜ |

### Backend

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| **Next.js Server Actions** | - | API ëŒ€ì²´, ì„œë²„ ë¡œì§ |
| **Supabase** | 2.49.8 | PostgreSQL, Storage, Realtime |
| **Clerk** | 6.20.0 | ì¸ì¦ (í•œêµ­ì–´ ì§€ì›) |
| **n8n** | self-hosted | ì›Œí¬í”Œë¡œìš° ìë™í™” |

### AI/ML

| ê¸°ìˆ  | ìš©ë„ |
|------|------|
| **Gemini** | í…ìŠ¤íŠ¸ ìƒì„± (AI ì´ˆì•ˆ) |
| **Gemini Imagen** | ì´ë¯¸ì§€ ìƒì„± |
| **Sora (OpenAI)** | ì˜ìƒ ìƒì„± (Image-to-Video) |

### Infrastructure

| ê¸°ìˆ  | ìš©ë„ |
|------|------|
| **Vercel** | í˜¸ìŠ¤íŒ…, ë°°í¬ |
| **Supabase Storage** | íŒŒì¼ ì €ì¥ì†Œ |
| **Toss Payments** | ê²°ì œ ì²˜ë¦¬ |

### ê°œë°œ ë„êµ¬

| ë„êµ¬ | ìš©ë„ |
|------|------|
| **pnpm** | íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € |
| **ESLint** | ì½”ë“œ í’ˆì§ˆ |
| **Zod** | ìŠ¤í‚¤ë§ˆ ê²€ì¦ |
| **react-hook-form** | í¼ ê´€ë¦¬ |

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        í´ë¼ì´ì–¸íŠ¸ (Browser)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Next.js   â”‚  â”‚   Clerk     â”‚  â”‚   Toss Payments SDK     â”‚  â”‚
â”‚  â”‚   App       â”‚  â”‚   Auth UI   â”‚  â”‚   ê²°ì œ ìœ„ì ¯              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚                     â”‚
          â–¼                â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Next.js Server (Vercel)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                    Server Actions                            â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚
â”‚  â”‚  â”‚Storyboardâ”‚ â”‚  Credit  â”‚ â”‚ Payment  â”‚ â”‚    Admin     â”‚   â”‚â”‚
â”‚  â”‚  â”‚ Actions  â”‚ â”‚ Actions  â”‚ â”‚ Actions  â”‚ â”‚   Actions    â”‚   â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚            â”‚            â”‚              â”‚
           â–¼            â–¼            â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         External Services                         â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Supabase   â”‚  â”‚    Clerk    â”‚  â”‚      n8n Webhooks       â”‚  â”‚
â”‚  â”‚  Database   â”‚  â”‚    Auth     â”‚  â”‚   AI ìƒì„± ì›Œí¬í”Œë¡œìš°      â”‚  â”‚
â”‚  â”‚  Storage    â”‚  â”‚   Service   â”‚  â”‚                         â”‚  â”‚
â”‚  â”‚  Realtime   â”‚  â”‚             â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚Geminiâ”‚ â”‚Sora â”‚ â”‚FFmpegâ”‚ â”‚  â”‚
â”‚                                     â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Toss Payments API                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì¸ì¦ íë¦„

```
ì‚¬ìš©ì ë¡œê·¸ì¸
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Clerk     â”‚ â”€â”€â”€ JWT í† í° ë°œê¸‰
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SyncUserProvider       â”‚ â”€â”€â”€ Clerk â†’ Supabase ë™ê¸°í™”
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Supabase RLS           â”‚ â”€â”€â”€ auth.jwt()->>'sub' = clerk_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì˜ìƒ ìƒì„± íŒŒì´í”„ë¼ì¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ì˜ìƒ ìƒì„± íŒŒì´í”„ë¼ì¸                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[1] ìŠ¤í† ë¦¬ë³´ë“œ ìƒì„±
    â”‚
    â”œâ”€ ì œëª©, ì„¤ëª…, í™”ë©´ë¹„ìœ¨ ì„¤ì •
    â”œâ”€ ìƒí’ˆ ì°¸ì¡° ì´ë¯¸ì§€ ì—…ë¡œë“œ (ì„ íƒ)
    â”‚
    â–¼
[2] AI ì´ˆì•ˆ ìƒì„± (n8n â†’ Gemini)
    â”‚
    â”œâ”€ ìƒí’ˆ ì •ë³´ ë¶„ì„
    â”œâ”€ ì”¬ êµ¬ì„± ìë™ ìƒì„±
    â”œâ”€ ë¹„ì£¼ì–¼ í”„ë¡¬í”„íŠ¸ ìƒì„±
    â”‚
    â–¼
[3] ì‚¬ìš©ì í¸ì§‘
    â”‚
    â”œâ”€ ì”¬ ìˆœì„œ ì¡°ì •
    â”œâ”€ ëŒ€ì‚¬/ë‚˜ë ˆì´ì…˜ ìˆ˜ì •
    â”œâ”€ ì¹´ë©”ë¼ ì„¤ì • ë³€ê²½
    â”‚
    â–¼
[4] ì”¬ ì´ë¯¸ì§€ ìƒì„± (n8n â†’ Gemini Imagen)
    â”‚
    â”œâ”€ ë¹„ì£¼ì–¼ í”„ë¡¬í”„íŠ¸ + ì°¸ì¡° ì´ë¯¸ì§€
    â”œâ”€ í™”ë©´ë¹„ìœ¨ì— ë§ëŠ” ì´ë¯¸ì§€ ìƒì„±
    â”œâ”€ Supabase Storage ì—…ë¡œë“œ
    â”‚
    â–¼
[5] ì”¬ í´ë¦½ ìƒì„± (n8n â†’ Sora)
    â”‚
    â”œâ”€ ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì¦ˆ (1280x720 ë˜ëŠ” 720x1280)
    â”œâ”€ ì¹´ë©”ë¼ ì›€ì§ì„ í”„ë¡¬í”„íŠ¸ ì ìš©
    â”œâ”€ 4/8/12ì´ˆ ì˜ìƒ ìƒì„±
    â”œâ”€ ì¬ì‹œë„ ë¡œì§ (ìµœëŒ€ 8íšŒ)
    â”‚
    â–¼
[6] ìµœì¢… ë³‘í•© (n8n â†’ FFmpeg)
    â”‚
    â”œâ”€ íŠ¸ëœì§€ì…˜ íš¨ê³¼ ì ìš©
    â”œâ”€ BGM í•©ì„±
    â”œâ”€ ìë§‰ ì¶”ê°€
    â”‚
    â–¼
[ì™„ë£Œ] ìµœì¢… ì˜ìƒ URL ì œê³µ
```

---

## ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### ERD (Entity Relationship Diagram)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     users       â”‚       â”‚    storyboards      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚       â”‚ id (PK)             â”‚
â”‚ clerk_id (UQ)   â”‚â—„â”€â”€â”€â”€â”€â”€â”‚ user_id (FK)        â”‚
â”‚ name            â”‚       â”‚ title               â”‚
â”‚ email           â”‚       â”‚ description         â”‚
â”‚ credit_balance  â”‚       â”‚ aspect_ratio        â”‚
â”‚ is_admin        â”‚       â”‚ target_duration     â”‚
â”‚ created_at      â”‚       â”‚ default_scene_durationâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ color_grade         â”‚
                          â”‚ default_bgm_id (FK) â”‚â”€â”€â”€â”€â”€â”€â”
                          â”‚ brand_guidelines    â”‚      â”‚
                          â”‚ product_reference_  â”‚      â”‚
                          â”‚   image_url         â”‚      â”‚
                          â”‚ status              â”‚      â”‚
                          â”‚ progress_stage      â”‚      â”‚
                          â”‚ total_scenes        â”‚      â”‚
                          â”‚ final_video_url     â”‚      â”‚
                          â”‚ created_at          â”‚      â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                                     â”‚                 â”‚
                                     â”‚ 1:N             â”‚
                                     â–¼                 â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
                          â”‚  storyboard_scenes  â”‚      â”‚
                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
                          â”‚ id (PK)             â”‚      â”‚
                          â”‚ storyboard_id (FK)  â”‚      â”‚
                          â”‚ scene_order         â”‚      â”‚
                          â”‚ scene_name          â”‚      â”‚
                          â”‚ scene_description   â”‚      â”‚
                          â”‚ dialogue            â”‚      â”‚
                          â”‚ dialogue_type       â”‚      â”‚
                          â”‚ visual_prompt       â”‚      â”‚
                          â”‚ reference_image_url â”‚      â”‚
                          â”‚ camera_angle        â”‚      â”‚
                          â”‚ camera_movement     â”‚      â”‚
                          â”‚ duration_seconds    â”‚      â”‚
                          â”‚ transition_type     â”‚      â”‚
                          â”‚ bgm_id (FK)         â”‚â”€â”€â”   â”‚
                          â”‚ sfx_id (FK)         â”‚â”€â”€â”¼â”€â”€â”€â”¤
                          â”‚ generated_image_url â”‚  â”‚   â”‚
                          â”‚ generated_clip_url  â”‚  â”‚   â”‚
                          â”‚ generation_status   â”‚  â”‚   â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
                                                   â”‚   â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
                          â”‚   storyboard_bgm    â”‚â—„â”€â”´â”€â”€â”€â”˜
                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚ id (PK)             â”‚
                          â”‚ name                â”‚
                          â”‚ category            â”‚
                          â”‚ audio_url           â”‚
                          â”‚ duration_seconds    â”‚
                          â”‚ is_premium          â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   storyboard_sfx    â”‚
                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚ id (PK)             â”‚
                          â”‚ name                â”‚
                          â”‚ category            â”‚
                          â”‚ audio_url           â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚ storyboard_generation_  â”‚
                          â”‚         logs            â”‚
                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚ id (PK)                 â”‚
                          â”‚ storyboard_id (FK)      â”‚
                          â”‚ scene_id (FK)           â”‚
                          â”‚ stage                   â”‚
                          â”‚ status                  â”‚
                          â”‚ source                  â”‚
                          â”‚ message                 â”‚
                          â”‚ error_code              â”‚
                          â”‚ metadata                â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì£¼ìš” í…Œì´ë¸” ìƒì„¸

#### storyboards

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | UUID | Primary Key |
| user_id | TEXT | Clerk User ID |
| title | TEXT | ìŠ¤í† ë¦¬ë³´ë“œ ì œëª© |
| description | TEXT | ì„¤ëª… |
| aspect_ratio | ENUM | 16:9, 9:16 |
| target_duration | INT | ëª©í‘œ ì˜ìƒ ê¸¸ì´ (ì´ˆ) |
| default_scene_duration | INT | ê¸°ë³¸ ì”¬ ê¸¸ì´ (4, 8, 12ì´ˆ) |
| status | ENUM | draft, generating, completed, failed |
| progress_stage | ENUM | 8ë‹¨ê³„ ì§„í–‰ ìƒíƒœ |
| product_reference_image_url | TEXT | ìƒí’ˆ ì°¸ì¡° ì´ë¯¸ì§€ |
| final_video_url | TEXT | ìµœì¢… ì˜ìƒ URL |

#### storyboard_scenes

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| id | UUID | Primary Key |
| storyboard_id | UUID | Foreign Key |
| scene_order | INT | ì”¬ ìˆœì„œ |
| scene_description | TEXT | ì”¬ ì„¤ëª… |
| visual_prompt | TEXT | AI ì´ë¯¸ì§€ ìƒì„± í”„ë¡¬í”„íŠ¸ |
| camera_angle | ENUM | ì¹´ë©”ë¼ ì•µê¸€ (9ì¢…) |
| camera_movement | ENUM | ì¹´ë©”ë¼ ì›€ì§ì„ (10ì¢…) |
| duration_seconds | DECIMAL | ì”¬ ê¸¸ì´ |
| transition_type | ENUM | íŠ¸ëœì§€ì…˜ íš¨ê³¼ (8ì¢…) |
| generated_image_url | TEXT | ìƒì„±ëœ ì´ë¯¸ì§€ URL |
| generated_clip_url | TEXT | ìƒì„±ëœ í´ë¦½ URL |
| generation_status | ENUM | ìƒì„± ìƒíƒœ |

### RLS (Row Level Security) ì •ì±…

```sql
-- ìŠ¤í† ë¦¬ë³´ë“œ: ë³¸ì¸ ë°ì´í„°ë§Œ ì ‘ê·¼
CREATE POLICY "Users can manage own storyboards"
ON storyboards FOR ALL
USING (auth.jwt()->>'sub' = user_id);

-- ì”¬: ìŠ¤í† ë¦¬ë³´ë“œ ì†Œìœ ìë§Œ ì ‘ê·¼
CREATE POLICY "Users can manage scenes of own storyboards"
ON storyboard_scenes FOR ALL
USING (
  EXISTS (
    SELECT 1 FROM storyboards
    WHERE storyboards.id = storyboard_scenes.storyboard_id
    AND storyboards.user_id = auth.jwt()->>'sub'
  )
);
```

---

## API ë° Server Actions

### Server Actions êµ¬ì¡°

```
actions/
â”œâ”€â”€ storyboard/
â”‚   â”œâ”€â”€ create-storyboard.ts      # ìŠ¤í† ë¦¬ë³´ë“œ ìƒì„±
â”‚   â”œâ”€â”€ fetch-storyboard.ts       # ìŠ¤í† ë¦¬ë³´ë“œ ì¡°íšŒ
â”‚   â”œâ”€â”€ fetch-user-storyboards.ts # ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ
â”‚   â”œâ”€â”€ update-storyboard.ts      # ìŠ¤í† ë¦¬ë³´ë“œ ìˆ˜ì •
â”‚   â”œâ”€â”€ delete-storyboard.ts      # ìŠ¤í† ë¦¬ë³´ë“œ ì‚­ì œ
â”‚   â”œâ”€â”€ create-scene.ts           # ì”¬ ìƒì„±
â”‚   â”œâ”€â”€ update-scene.ts           # ì”¬ ìˆ˜ì •
â”‚   â”œâ”€â”€ delete-scene.ts           # ì”¬ ì‚­ì œ
â”‚   â”œâ”€â”€ reorder-scenes.ts         # ì”¬ ìˆœì„œ ë³€ê²½
â”‚   â”œâ”€â”€ duplicate-scene.ts        # ì”¬ ë³µì œ
â”‚   â”œâ”€â”€ clear-scene-media.ts      # ì”¬ ë¯¸ë””ì–´ ì‚­ì œ
â”‚   â”œâ”€â”€ generate-ai-draft.ts      # AI ì´ˆì•ˆ ìƒì„±
â”‚   â”œâ”€â”€ generate-scene-image.ts   # ì”¬ ì´ë¯¸ì§€ ìƒì„±
â”‚   â”œâ”€â”€ generate-scene-clip.ts    # ì”¬ í´ë¦½ ìƒì„±
â”‚   â””â”€â”€ trigger-final-merge.ts    # ìµœì¢… ë³‘í•©
â”‚
â”œâ”€â”€ credit/
â”‚   â”œâ”€â”€ check-balance.ts          # ì”ì•¡ í™•ì¸
â”‚   â”œâ”€â”€ deduct-credit.ts          # í¬ë ˆë”§ ì°¨ê°
â”‚   â””â”€â”€ grant-credit.ts           # í¬ë ˆë”§ ì§€ê¸‰ (ê´€ë¦¬ì)
â”‚
â”œâ”€â”€ payment/
â”‚   â”œâ”€â”€ create-order.ts           # ì£¼ë¬¸ ìƒì„±
â”‚   â”œâ”€â”€ confirm-payment.ts        # ê²°ì œ í™•ì¸
â”‚   â””â”€â”€ cancel-payment.ts         # ê²°ì œ ì·¨ì†Œ
â”‚
â””â”€â”€ admin/
    â”œâ”€â”€ check-admin.ts            # ê´€ë¦¬ì í™•ì¸
    â”œâ”€â”€ get-users.ts              # ì‚¬ìš©ì ëª©ë¡
    â”œâ”€â”€ get-payments.ts           # ê²°ì œ ëª©ë¡
    â””â”€â”€ get-analytics.ts          # ë¶„ì„ ë°ì´í„°
```

### ì£¼ìš” Action ì˜ˆì‹œ

#### generate-scene-clip.ts (ë¹„ë™ê¸° ì²˜ë¦¬)

```typescript
export async function generateSceneClip(input: {
  storyboardId: string;
  sceneId: string;
}): Promise<GenerateSceneClipResult> {
  // 1. ì¸ì¦ í™•ì¸
  const { userId } = await auth();

  // 2. í¬ë ˆë”§ í™•ì¸
  const balance = await checkBalance(userId);
  if (balance < SCENE_CLIP_GENERATION_COST) {
    return { success: false, error: "í¬ë ˆë”§ì´ ë¶€ì¡±í•©ë‹ˆë‹¤." };
  }

  // 3. ìƒíƒœ ì—…ë°ì´íŠ¸
  await supabase
    .from("storyboard_scenes")
    .update({ generation_status: "generating_clip" })
    .eq("id", input.sceneId);

  // 4. n8n ì›¹í›… í˜¸ì¶œ (ë¹„ë™ê¸°)
  const response = await fetch(N8N_WEBHOOK_URL, {
    method: "POST",
    body: JSON.stringify(payload),
  });

  // 5. ì¦‰ì‹œ ì‘ë‹µ (ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬)
  return {
    success: true,
    accepted: true,
    message: "í´ë¦½ ìƒì„±ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.",
  };
}
```

---

## n8n ì›Œí¬í”Œë¡œìš°

### ì›Œí¬í”Œë¡œìš° ëª©ë¡

| ID | ì´ë¦„ | íŠ¸ë¦¬ê±° | ì„¤ëª… |
|----|------|--------|------|
| 1 | ìŠ¤í† ë¦¬ë³´ë“œ AI ì´ˆì•ˆ ìƒì„± | Webhook | Geminië¡œ ìŠ¤í† ë¦¬ë³´ë“œ ìë™ êµ¬ì„± |
| 2 | ìŠ¤í† ë¦¬ë³´ë“œ ì”¬ ì´ë¯¸ì§€ ìƒì„± | Webhook | Gemini Imagenìœ¼ë¡œ ì´ë¯¸ì§€ ìƒì„± |
| 3 | ìŠ¤í† ë¦¬ë³´ë“œ ì”¬ í´ë¦½ ìƒì„± | Webhook | Soraë¡œ ì˜ìƒ í´ë¦½ ìƒì„± |
| 4 | ìŠ¤í† ë¦¬ë³´ë“œ ìµœì¢… ë³‘í•© | Webhook | FFmpegë¡œ ìµœì¢… ì˜ìƒ ìƒì„± |

### ì”¬ í´ë¦½ ìƒì„± ì›Œí¬í”Œë¡œìš° ìƒì„¸

```
Webhook ìˆ˜ì‹ 
    â”‚
    â–¼
ìƒíƒœ: í´ë¦½ ìƒì„± ì¤‘ (DB ì—…ë°ì´íŠ¸)
    â”‚
    â–¼
ì¦‰ì‹œ ì‘ë‹µ (ë¹„ë™ê¸°) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                       â”‚
    â–¼                                       â”‚ í´ë¼ì´ì–¸íŠ¸ë¡œ ì¦‰ì‹œ ì‘ë‹µ
ì†ŒìŠ¤ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ                         â”‚ { success: true, accepted: true }
    â”‚                                       â”‚
    â–¼                                       â”‚
ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì¦ˆ (1280x720 ë˜ëŠ” 720x1280)    â”‚
    â”‚                                       â”‚
    â–¼                                       â”‚
Sora í´ë¦½ ìƒì„± ìš”ì²­                          â”‚
    â”‚                                       â”‚
    â–¼                                       â”‚
ìƒì„± ëŒ€ê¸° (2ë¶„)                              â”‚
    â”‚                                       â”‚
    â–¼                                       â”‚
ì¹´ìš´í„° ì´ˆê¸°í™” (retryCount = 0)              â”‚
    â”‚                                       â”‚
    â–¼                                       â”‚
â”Œâ”€â–º ìƒì„± ìƒíƒœ í™•ì¸ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚       â”‚                               â”‚   â”‚
â”‚       â–¼                               â”‚   â”‚
â”‚   ì™„ë£Œ í™•ì¸                            â”‚   â”‚
â”‚   â”œâ”€ Yes â”€â”€â–º í´ë¦½ ë‹¤ìš´ë¡œë“œ             â”‚   â”‚
â”‚   â”‚              â”‚                    â”‚   â”‚
â”‚   â”‚              â–¼                    â”‚   â”‚
â”‚   â”‚         Storage ì—…ë¡œë“œ            â”‚   â”‚
â”‚   â”‚              â”‚                    â”‚   â”‚
â”‚   â”‚              â–¼                    â”‚   â”‚
â”‚   â”‚         ì”¬ í´ë¦½ URL ì €ì¥           â”‚   â”‚
â”‚   â”‚              â”‚                    â”‚   â”‚
â”‚   â”‚              â–¼                    â”‚   â”‚
â”‚   â”‚           [ì™„ë£Œ]                   â”‚   â”‚
â”‚   â”‚                                   â”‚   â”‚
â”‚   â””â”€ No â”€â”€â”€â–º ì‹¤íŒ¨ í™•ì¸                â”‚   â”‚
â”‚              â”œâ”€ Yes â”€â”€â–º ì‹¤íŒ¨ ìƒíƒœ ì €ì¥ â”‚   â”‚
â”‚              â”‚                        â”‚   â”‚
â”‚              â””â”€ No â”€â”€â”€â–º ì¹´ìš´í„° ì¦ê°€    â”‚   â”‚
â”‚                             â”‚         â”‚   â”‚
â”‚                             â–¼         â”‚   â”‚
â”‚                      ìµœëŒ€ ì¬ì‹œë„ í™•ì¸  â”‚   â”‚
â”‚                      â”œâ”€ Yes â”€â”€â–º íƒ€ì„ì•„ì›ƒ ì‹¤íŒ¨â”‚
â”‚                      â”‚                â”‚   â”‚
â”‚                      â””â”€ No â”€â”€â”€â–º ì¬ì‹œë„ ëŒ€ê¸° (30ì´ˆ)
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì¬ì‹œë„ ë¡œì§

- **ìµœëŒ€ ì¬ì‹œë„**: 8íšŒ
- **ì¬ì‹œë„ ê°„ê²©**: 30ì´ˆ
- **ìµœëŒ€ ëŒ€ê¸° ì‹œê°„**: ì•½ 6ë¶„ (2ë¶„ ì´ˆê¸° ëŒ€ê¸° + 30ì´ˆ Ã— 8íšŒ)
- **ì‹¤íŒ¨ ì¡°ê±´**: status = "failed" ë˜ëŠ” ìµœëŒ€ ì¬ì‹œë„ ì´ˆê³¼

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
my-ad1106/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ layout.tsx               # Root Layout
â”‚   â”œâ”€â”€ page.tsx                 # í™ˆí˜ì´ì§€
â”‚   â”œâ”€â”€ storyboard/              # ìŠ¤í† ë¦¬ë³´ë“œ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ page.tsx            # ëª©ë¡
â”‚   â”‚   â””â”€â”€ [id]/page.tsx       # ì—ë””í„°
â”‚   â”œâ”€â”€ dashboard/               # ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ admin/                   # ê´€ë¦¬ì í˜ì´ì§€
â”‚   â”œâ”€â”€ payment/                 # ê²°ì œ í˜ì´ì§€
â”‚   â””â”€â”€ api/                     # API Routes
â”‚
â”œâ”€â”€ components/                   # React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ui/                      # shadcn/ui (ìˆ˜ì • ê¸ˆì§€)
â”‚   â”œâ”€â”€ storyboard/              # ìŠ¤í† ë¦¬ë³´ë“œ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ providers/               # Context Providers
â”‚   â””â”€â”€ ...                      # ê¸°íƒ€ ì»´í¬ë„ŒíŠ¸
â”‚
â”œâ”€â”€ actions/                      # Server Actions
â”‚   â”œâ”€â”€ storyboard/              # ìŠ¤í† ë¦¬ë³´ë“œ ì•¡ì…˜
â”‚   â”œâ”€â”€ credit/                  # í¬ë ˆë”§ ì•¡ì…˜
â”‚   â”œâ”€â”€ payment/                 # ê²°ì œ ì•¡ì…˜
â”‚   â””â”€â”€ admin/                   # ê´€ë¦¬ì ì•¡ì…˜
â”‚
â”œâ”€â”€ lib/                          # ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ supabase/                # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ clerk-client.ts     # Client Componentìš©
â”‚   â”‚   â”œâ”€â”€ server.ts           # Server Actionìš©
â”‚   â”‚   â””â”€â”€ service-role.ts     # Adminìš©
â”‚   â””â”€â”€ utils.ts                 # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚
â”œâ”€â”€ hooks/                        # Custom Hooks
â”‚   â”œâ”€â”€ use-sync-user.ts         # Clerk-Supabase ë™ê¸°í™”
â”‚   â”œâ”€â”€ use-credit-balance.ts    # í¬ë ˆë”§ ì”ì•¡
â”‚   â””â”€â”€ use-realtime-storyboard.ts # Realtime êµ¬ë…
â”‚
â”œâ”€â”€ types/                        # TypeScript íƒ€ì…
â”‚   â”œâ”€â”€ storyboard.ts            # ìŠ¤í† ë¦¬ë³´ë“œ íƒ€ì…
â”‚   â””â”€â”€ ...                      # ê¸°íƒ€ íƒ€ì…
â”‚
â”œâ”€â”€ supabase/                     # Supabase ì„¤ì •
â”‚   â””â”€â”€ migrations/              # DB ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚
â”œâ”€â”€ public/                       # ì •ì  íŒŒì¼
â”œâ”€â”€ docs/                         # ë¬¸ì„œ
â”‚
â”œâ”€â”€ .env                          # í™˜ê²½ ë³€ìˆ˜ (git ì œì™¸)
â”œâ”€â”€ .env.example                  # í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ
â”œâ”€â”€ package.json                  # íŒ¨í‚¤ì§€ ì •ì˜
â”œâ”€â”€ pnpm-lock.yaml               # ì˜ì¡´ì„± ì ê¸ˆ
â”œâ”€â”€ next.config.ts               # Next.js ì„¤ì •
â”œâ”€â”€ tailwind.config.ts           # Tailwind ì„¤ì •
â”œâ”€â”€ tsconfig.json                # TypeScript ì„¤ì •
â”œâ”€â”€ middleware.ts                # Clerk ë¯¸ë“¤ì›¨ì–´
â”œâ”€â”€ CLAUDE.md                    # AI ê°€ì´ë“œ
â””â”€â”€ AGENTS.md                    # í”„ë¡œì íŠ¸ ê°€ì´ë“œ
```

---

## ì„¤ì¹˜ ë° ì‹¤í–‰

### ìš”êµ¬ ì‚¬í•­

- Node.js 18.x ì´ìƒ
- pnpm 10.x ì´ìƒ
- Supabase í”„ë¡œì íŠ¸
- Clerk ê³„ì •
- n8n ì¸ìŠ¤í„´ìŠ¤ (self-hosted)

### ì„¤ì¹˜

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone <repository-url>
cd my-ad1106

# ì˜ì¡´ì„± ì„¤ì¹˜
pnpm install

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘

# ê°œë°œ ì„œë²„ ì‹¤í–‰
pnpm dev
```

### ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ì„¤ëª… |
|--------|------|
| `pnpm dev` | ê°œë°œ ì„œë²„ (Turbopack) |
| `pnpm build` | í”„ë¡œë•ì…˜ ë¹Œë“œ |
| `pnpm start` | í”„ë¡œë•ì…˜ ì„œë²„ |
| `pnpm lint` | ESLint ì‹¤í–‰ |

---

## í™˜ê²½ ë³€ìˆ˜

```env
# Clerk ì¸ì¦
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_IN_FALLBACK_REDIRECT_URL=/
NEXT_PUBLIC_CLERK_SIGN_UP_FALLBACK_REDIRECT_URL=/

# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOi...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOi...
NEXT_PUBLIC_STORAGE_BUCKET=storyboards

# n8n ì›¹í›…
N8N_WEBHOOK_USER=webhook_user
N8N_WEBHOOK_PASSWORD=webhook_password
N8N_STORYBOARD_DRAFT_WEBHOOK_URL=https://n8n.example.com/webhook/storyboard-draft
N8N_STORYBOARD_SCENE_IMAGE_WEBHOOK_URL=https://n8n.example.com/webhook/storyboard-scene-image
N8N_STORYBOARD_SCENE_CLIP_WEBHOOK_URL=https://n8n.example.com/webhook/storyboard-scene-clip
N8N_STORYBOARD_FINAL_MERGE_WEBHOOK_URL=https://n8n.example.com/webhook/storyboard-final-merge

# Toss Payments
NEXT_PUBLIC_TOSS_CLIENT_KEY=test_ck_...
TOSS_SECRET_KEY=test_sk_...

# ê¸°íƒ€
NEXT_PUBLIC_BASE_URL=http://localhost:3000
```

---

## ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” ë¹„ê³µê°œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

---

## ì—°ë½ì²˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì€ ê´€ë¦¬ìì—ê²Œ ì—°ë½í•´ ì£¼ì„¸ìš”.

---

*ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2026ë…„ 1ì›”*
