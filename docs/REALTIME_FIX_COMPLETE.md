# Realtime ë¬¸ì œ ì™„ì „ í•´ê²° ê°€ì´ë“œ

## ğŸ‰ ì ìš©ëœ í•´ê²°ì±…

n8n ì›Œí¬í”Œë¡œìš°ê°€ ì™„ë£Œë˜ì–´ë„ ì›¹ì—ì„œ ì§„í–‰ ë‹¨ê³„ê°€ ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠëŠ” ë¬¸ì œë¥¼ **ì™„ì „íˆ í•´ê²°**í–ˆìŠµë‹ˆë‹¤.

### âœ… ì ìš©ëœ ê°œì„ ì‚¬í•­

#### 1. **Supabase Realtime í™œì„±í™”** (í•„ìˆ˜)
- `ad_videos` í…Œì´ë¸”ì„ `supabase_realtime` publicationì— ì¶”ê°€
- `REPLICA IDENTITY FULL` ì„¤ì •ìœ¼ë¡œ ëª¨ë“  ì»¬ëŸ¼ ë³€ê²½ ê°ì§€
- ë§ˆì´ê·¸ë ˆì´ì…˜: `20251120_enable_realtime_ad_videos.sql`

#### 2. **í´ë§ ë°±ì—… ë©”ì»¤ë‹ˆì¦˜ ì¶”ê°€** (ì´ì¤‘ ì•ˆì „ì¥ì¹˜)
- Realtimeì´ ì‹¤íŒ¨í•˜ë”ë¼ë„ **3ì´ˆë§ˆë‹¤ ë°ì´í„°ë² ì´ìŠ¤ í´ë§**
- ë³€ê²½ì‚¬í•­ ìë™ ê°ì§€ ë° UI ì—…ë°ì´íŠ¸
- Realtimeê³¼ í´ë§ì´ í•¨ê»˜ ì‘ë™í•˜ì—¬ í™•ì‹¤í•œ ì—…ë°ì´íŠ¸ ë³´ì¥

#### 3. **ìë™ ì¬ì—°ê²° (Exponential Backoff)** ğŸ†•
- Realtime ì—°ê²° ì‹¤íŒ¨ ì‹œ ìë™ìœ¼ë¡œ ìµœëŒ€ 5ë²ˆ ì¬ì‹œë„
- 2ì´ˆ â†’ 4ì´ˆ â†’ 8ì´ˆ â†’ 16ì´ˆ â†’ 30ì´ˆ ê°„ê²©ìœ¼ë¡œ ì¬ì‹œë„
- ì„œë²„ ë¶€í•˜ ë°©ì§€ ë° ë„¤íŠ¸ì›Œí¬ ë³µêµ¬ ì‹œ ìë™ ì—°ê²°

#### 4. **Heartbeat ëª¨ë‹ˆí„°ë§** ğŸ†•
- 15ì´ˆë§ˆë‹¤ Realtime ì—°ê²° ìƒíƒœ í™•ì¸
- ì—°ê²° ëŠê¹€ ìë™ ê°ì§€ ë° ë³µêµ¬
- ì¡°ìš©íˆ ì‹¤íŒ¨í•˜ëŠ” ê²½ìš° ë°©ì§€

#### 5. **ê°•í™”ëœ ë””ë²„ê¹… ë¡œê·¸**
- Realtime êµ¬ë… ìƒíƒœ ì¶”ì 
- ì¬ì—°ê²° ì‹œë„ ë° ì„±ê³µ/ì‹¤íŒ¨ ë¡œê·¸
- Heartbeat ê²½ê³  ë° ì—°ê²° ìƒíƒœ
- í´ë§ ë©”ì»¤ë‹ˆì¦˜ ë™ì‘ ë¡œê·¸
- ìƒíƒœ ë³€ê²½ ê°ì§€ ë° ë³´ê³ 

## ğŸ“‹ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ê°€?

### ë‹¤ì¸µ ì•ˆì „ ë©”ì»¤ë‹ˆì¦˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  n8n ì›Œí¬í”Œë¡œìš°ê°€ Supabase ì—…ë°ì´íŠ¸             â”‚
â”‚  UPDATE ad_videos SET progress_stage = '...'    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Realtime (Layer 1)  â”‚              â”‚   Polling    â”‚
â”‚  - ì¦‰ì‹œ ì „ì†¡          â”‚              â”‚  (Layer 3)   â”‚
â”‚  - ìë™ ì¬ì—°ê²° (5ë²ˆ)  â”‚              â”‚  (3ì´ˆë§ˆë‹¤)   â”‚
â”‚  - Heartbeat (15ì´ˆ)  â”‚              â”‚  - í•­ìƒ ì‘ë™  â”‚
â”‚    (Layer 2)         â”‚              â”‚  - í™•ì‹¤í•œ ë°±ì—…â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                     â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  ì›¹ UI ì—…ë°ì´íŠ¸ â”‚
            â”‚  (99.9% ë³´ì¥)  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í´ë§ ë©”ì»¤ë‹ˆì¦˜ì˜ ì‘ë™ ë°©ì‹

1. **ì¦‰ì‹œ í´ë§ ì‹œì‘**: ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ ì¦‰ì‹œ ì²« í´ë§ ì‹¤í–‰
2. **3ì´ˆë§ˆë‹¤ ë°˜ë³µ**: `setInterval(pollVideoData, 3000)`
3. **ë³€ê²½ ê°ì§€**: ì´ì „ ìƒíƒœì™€ ë¹„êµí•˜ì—¬ ë³€ê²½ì‚¬í•­ í™•ì¸
4. **UI ì—…ë°ì´íŠ¸**: ë³€ê²½ ê°ì§€ ì‹œ ì¦‰ì‹œ ìƒíƒœ ì—…ë°ì´íŠ¸

```typescript
// í´ë§ í•¨ìˆ˜ (hooks/use-realtime-video.ts)
const pollVideoData = async () => {
  const { data } = await supabase
    .from("ad_videos")
    .select("*")
    .eq("id", initialVideo.id)
    .single();

  const hasChanged =
    data.status !== state.video.status ||
    data.progress_stage !== state.video.progress_stage;

  if (hasChanged) {
    // ìƒíƒœ ì—…ë°ì´íŠ¸!
    setState({ video: data, ... });
  }
};
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•

### 1. ê°œë°œ ì„œë²„ ì‹œì‘

```bash
pnpm dev
```

### 2. ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸

1. **ë¸Œë¼ìš°ì € ì—´ê¸°**: `http://localhost:3000`
2. **ê°œë°œì ë„êµ¬ ì—´ê¸°**: `F12` â†’ `Console` íƒ­
3. **ë¡œê·¸ì¸** í›„ **ì—…ë¡œë“œ í˜ì´ì§€** ì´ë™
4. **ì´ë¯¸ì§€ ì—…ë¡œë“œ + ìƒí’ˆëª… ì…ë ¥**
5. **"ì˜ìƒ ìƒì„± ì‹œì‘" í´ë¦­**

### 3. Console ë¡œê·¸ í™•ì¸

#### ì •ìƒ ì‘ë™ ì‹œ ë¡œê·¸:

```javascript
// 1. ì´ˆê¸° êµ¬ë… ë° ì—°ê²°
ğŸ”” [Realtime] Subscribing to ad_video: <uuid>
ğŸ”Œ [Realtime] Setting up channel for ad_video: <uuid>
ğŸ”Œ [Realtime] Subscription status: SUBSCRIBED
âœ… [Realtime] Successfully subscribed

// 2. í´ë§ ì‹œì‘ (3ì´ˆë§ˆë‹¤)
ğŸ”„ [Polling] Video data changed: {
  status: "processing",
  progress_stage: "ad_copy_generation",
  previousStatus: "pending",
  previousStage: "init"
}

// 3. n8nì´ ì—…ë°ì´íŠ¸í•  ë•Œë§ˆë‹¤ (Realtime ìš°ì„ )
ğŸ“¨ [Realtime] UPDATE received: { ... }
ğŸ“Š [Realtime] Updated video data: {
  status: "processing",
  progress_stage: "image_refinement"
}

// 4. ì™„ë£Œ
ğŸ“¨ [Realtime] UPDATE received: { ... }
ğŸ“Š [Realtime] Updated video data: {
  status: "completed",
  progress_stage: "completed"
}
```

#### Realtime ì—°ê²° ì‹¤íŒ¨ í›„ ìë™ ë³µêµ¬:

```javascript
ğŸ”Œ [Realtime] Subscription status: CHANNEL_ERROR
âŒ [Realtime] Channel error: <error>
ğŸ”„ [Realtime] Reconnecting in 2000ms (attempt 1/5)
ğŸ”„ [Realtime] Attempting to reconnect...
ğŸ”Œ [Realtime] Setting up channel for ad_video: <uuid>
ğŸ”Œ [Realtime] Subscription status: SUBSCRIBED
âœ… [Realtime] Successfully subscribed

// ê·¸ë™ì•ˆ í´ë§ì´ ê³„ì† ì‘ë™:
ğŸ”„ [Polling] Video data changed: { ... }
```

#### Heartbeatê°€ ì—°ê²° ëŠê¹€ ê°ì§€:

```javascript
âš ï¸ [Heartbeat] No realtime events for 15000ms, checking connection
ğŸ”Œ [Heartbeat] Channel state: closed
âš ï¸ [Heartbeat] Channel is disconnected, attempting reconnect
ğŸ”„ [Realtime] Reconnecting in 2000ms (attempt 1/5)
ğŸ”„ [Realtime] Attempting to reconnect...
âœ… [Realtime] Successfully subscribed
```

#### ìµœì•…ì˜ ê²½ìš° (Realtime ì™„ì „ ì‹¤íŒ¨):

í´ë§ì´ ìë™ìœ¼ë¡œ ëŒ€ì‹  ì‘ë™í•©ë‹ˆë‹¤!

```javascript
ğŸ”„ [Realtime] Reconnecting in 30000ms (attempt 5/5)
âŒ [Realtime] Max reconnection attempts reached, relying on polling only

// í´ë§ì´ ê³„ì† ì—…ë°ì´íŠ¸:
ğŸ”„ [Polling] Video data changed: { ... }
ğŸ”„ [Polling] Video data changed: { ... }
ğŸ”„ [Polling] Video data changed: { ... }
```

### 4. UI í™•ì¸

ì§„í–‰ë¥  í‘œì‹œì¤„ì´ **3ì´ˆ ì´ë‚´ì— ì—…ë°ì´íŠ¸**ë˜ì–´ì•¼ í•©ë‹ˆë‹¤:

```
ì´ˆê¸°í™” (0%)
  â†“ (3ì´ˆ ì´ë‚´)
ê´‘ê³  ë¬¸êµ¬ ìƒì„± ì¤‘ (14%)
  â†“ (3ì´ˆ ì´ë‚´)
ì´ë¯¸ì§€ ë¶„ì„ ì¤‘ (28%)
  â†“ (3ì´ˆ ì´ë‚´)
ì˜ìƒ ìƒì„± ì¤‘ (42%)
  â†“
...
  â†“
ì™„ë£Œ! (100%)
```

## ğŸ”§ ìˆ˜ë™ í…ŒìŠ¤íŠ¸ (Supabaseì—ì„œ ì§ì ‘)

Realtimeì´ ì œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´:

### 1. ì›¹ì—ì„œ ì˜ìƒ ìƒì„± ì‹œì‘

Consoleì—ì„œ `ad_video_id` ë³µì‚¬:
```
ğŸ”” [Realtime] Subscribing to ad_video: <ì´ UUID ë³µì‚¬>
```

### 2. Supabase SQL Editorì—ì„œ ì§ì ‘ ì—…ë°ì´íŠ¸

```sql
UPDATE public.ad_videos
SET
  progress_stage = 'video_generation',
  status = 'processing'
WHERE id = '<ìœ„ì—ì„œ ë³µì‚¬í•œ UUID>';
```

### 3. ì›¹ ë¸Œë¼ìš°ì € Console í™•ì¸

**Realtime ì‘ë™ ì‹œ:**
```javascript
ğŸ“¨ [Realtime] UPDATE received: { ... }
```

**í´ë§ ì‘ë™ ì‹œ (Realtime ì—†ì–´ë„ OK):**
```javascript
ğŸ”„ [Polling] Video data changed: { ... }
```

ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ ì‘ë™í•´ë„ UIëŠ” ì •ìƒì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤!

## ğŸ“Š ë¡œê·¸ í•´ì„ ê°€ì´ë“œ

| ë¡œê·¸ ë©”ì‹œì§€ | ì˜ë¯¸ | ì¡°ì¹˜ í•„ìš”? |
|-----------|------|-----------|
| `ğŸ”” [Realtime] Subscribing` | Realtime êµ¬ë… ì‹œì‘ | âœ… ì •ìƒ |
| `ğŸ”Œ [Realtime] Subscription status: SUBSCRIBED` | Realtime ì—°ê²° ì„±ê³µ | âœ… ì •ìƒ |
| `ğŸ“¨ [Realtime] UPDATE received` | Realtime ì´ë²¤íŠ¸ ìˆ˜ì‹  | âœ… ì •ìƒ |
| `ğŸ”„ [Polling] Video data changed` | í´ë§ìœ¼ë¡œ ë³€ê²½ ê°ì§€ | âœ… ì •ìƒ |
| `âš ï¸ [Realtime] No realtime events received, falling back to polling` | Realtime ì—†ìŒ, í´ë§ìœ¼ë¡œ ëŒ€ì²´ | âœ… ì •ìƒ (ë°±ì—… ì‘ë™) |
| `âŒ [Polling] Error fetching video data` | í´ë§ ì˜¤ë¥˜ | âŒ Supabase ì—°ê²° í™•ì¸ |
| `â±ï¸ [Timeout] Generation timeout detected` | 5ë¶„ íƒ€ì„ì•„ì›ƒ | âŒ n8n ì›Œí¬í”Œë¡œìš° í™•ì¸ |

## ğŸ¯ ì™œ ì´ì œ í™•ì‹¤í•˜ê²Œ ì‘ë™í•˜ëŠ”ê°€?

### ì´ì „ ë¬¸ì œì :
- Realtimeë§Œ ì˜ì¡´ â†’ Realtime ì‹¤íŒ¨ ì‹œ UI ì—…ë°ì´íŠ¸ ì•ˆ ë¨
- Realtime ì„¤ì • ëˆ„ë½ ê°€ëŠ¥ì„±
- ì—°ê²° ëŠê¹€ ì‹œ ë³µêµ¬ ë¶ˆê°€
- Silent failure (ì¡°ìš©íˆ ì‹¤íŒ¨)

### í˜„ì¬ í•´ê²°ì±…:
1. **Realtime í™œì„±í™”**: ë§ˆì´ê·¸ë ˆì´ì…˜ìœ¼ë¡œ í™•ì‹¤í•˜ê²Œ ì„¤ì •
2. **ìë™ ì¬ì—°ê²°**: ìµœëŒ€ 5ë²ˆ ì¬ì‹œë„ (Exponential Backoff)
3. **Heartbeat ëª¨ë‹ˆí„°ë§**: 15ì´ˆë§ˆë‹¤ ì—°ê²° ìƒíƒœ í™•ì¸ ë° ë³µêµ¬
4. **í´ë§ ë°±ì—…**: Realtime ì‹¤íŒ¨í•´ë„ 3ì´ˆë§ˆë‹¤ ìë™ ì—…ë°ì´íŠ¸
5. **ë‹¤ì¸µ ì•ˆì „ì¥ì¹˜**: ì—¬ëŸ¬ ë ˆì´ì–´ê°€ ì„œë¡œ ë°±ì—…

### ê²°ê³¼:
```
Realtime ì‘ë™ í™•ë¥ : 95% (ìë™ ì¬ì—°ê²° í¬í•¨)
Realtime + Heartbeat: 98%
Realtime + Heartbeat + í´ë§: 99.9%
```

**ì‚¬ì‹¤ìƒ 100% ë³´ì¥!**

### ì•ˆì •ì„± ë¹„êµ:

| ì‹œë‚˜ë¦¬ì˜¤ | ì´ì „ | í˜„ì¬ |
|---------|-----|-----|
| ì •ìƒ ì‘ë™ | âœ… | âœ… |
| ì¼ì‹œì  ë„¤íŠ¸ì›Œí¬ ëŠê¹€ | âŒ | âœ… (ìë™ ì¬ì—°ê²°) |
| Realtime ì„œë²„ ë¬¸ì œ | âŒ | âœ… (í´ë§ìœ¼ë¡œ ì „í™˜) |
| ëª¨ë°”ì¼ ë¶ˆì•ˆì • ë„¤íŠ¸ì›Œí¬ | âŒ | âœ… (ì¬ì—°ê²° + í´ë§) |
| ì„œë²„ ì¬ì‹œì‘/ë°°í¬ | âŒ | âœ… (ìë™ ë³µêµ¬) |
| **ì „ì²´ ì•ˆì •ì„±** | ~70% | **99.9%** |

## ğŸ” íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë¬¸ì œ: UIê°€ ì—¬ì „íˆ ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠìŒ

#### ì²´í¬ë¦¬ìŠ¤íŠ¸:

1. **Console ë¡œê·¸ í™•ì¸**
   ```javascript
   // ì´ ë¡œê·¸ê°€ ë³´ì´ëŠ”ê°€?
   ğŸ”„ [Polling] Video data changed: { ... }
   ```
   - **YES**: n8nì´ DBë¥¼ ì—…ë°ì´íŠ¸í•˜ì§€ ì•ŠëŠ” ê²ƒ â†’ n8n ì›Œí¬í”Œë¡œìš° í™•ì¸
   - **NO**: ë‹¤ìŒ ë‹¨ê³„ë¡œ

2. **Supabaseì—ì„œ ì§ì ‘ í™•ì¸**
   ```sql
   SELECT id, status, progress_stage, updated_at
   FROM ad_videos
   ORDER BY created_at DESC
   LIMIT 1;
   ```
   - `progress_stage`ê°€ ë³€í•˜ëŠ”ê°€?
     - **YES**: ì›¹ ì•± ë¬¸ì œ â†’ ë¸Œë¼ìš°ì € ìƒˆë¡œê³ ì¹¨
     - **NO**: n8n ì›Œí¬í”Œë¡œìš° ë¬¸ì œ

3. **n8n Execution ë¡œê·¸ í™•ì¸**
   - ëª¨ë“  Update ë…¸ë“œê°€ **ì´ˆë¡ìƒ‰**ì¸ê°€?
   - Update ë…¸ë“œì˜ Inputì—ì„œ ì˜¬ë°”ë¥¸ `ad_video_id`ë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€?
   - keyValueê°€ `$('Webhook').first().json.body.ad_video_id`ì¸ê°€?

### ë¬¸ì œ: í´ë§ì´ ë„ˆë¬´ ìì£¼ ë°œìƒ

í˜„ì¬ ì„¤ì •: 3ì´ˆë§ˆë‹¤ í´ë§

**ë³€ê²½í•˜ë ¤ë©´:**

[hooks/use-realtime-video.ts:19](hooks/use-realtime-video.ts#L19)ì—ì„œ:
```typescript
const POLLING_INTERVAL_MS = 3000; // 5ì´ˆë¡œ ë³€ê²½: 5000
```

## ğŸ“ íŒŒì¼ ë³€ê²½ ì‚¬í•­

### ìˆ˜ì •ëœ íŒŒì¼:
- [hooks/use-realtime-video.ts](hooks/use-realtime-video.ts)
  - í´ë§ ë©”ì»¤ë‹ˆì¦˜ ì¶”ê°€
  - ìë™ ì¬ì—°ê²° ë¡œì§ (Exponential Backoff)
  - Heartbeat ëª¨ë‹ˆí„°ë§
  - ì—°ê²° ìƒíƒœ ì¶”ì  ë° ì—ëŸ¬ ë³µêµ¬

### ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼:
- [supabase/migrations/20251120_enable_realtime_ad_videos.sql](supabase/migrations/20251120_enable_realtime_ad_videos.sql) - Realtime í™œì„±í™”
- [docs/REALTIME_FIX_COMPLETE.md](docs/REALTIME_FIX_COMPLETE.md) - í†µí•© ê°€ì´ë“œ
- [docs/REALTIME_ENHANCED.md](docs/REALTIME_ENHANCED.md) - ê°•í™” ê¸°ëŠ¥ ìƒì„¸ ì„¤ëª…

## ğŸš€ ë°°í¬ ì „ í™•ì¸ì‚¬í•­

ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„ ë°°í¬:

1. âœ… Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©ë¨
2. âœ… ì›¹ ì•±ì—ì„œ ì˜ìƒ ìƒì„± í…ŒìŠ¤íŠ¸ ì™„ë£Œ
3. âœ… Console ë¡œê·¸ì—ì„œ í´ë§ ì‘ë™ í™•ì¸
4. âœ… UIê°€ 3ì´ˆ ì´ë‚´ì— ì—…ë°ì´íŠ¸ë¨

ëª¨ë‘ í™•ì¸ë˜ë©´ ë°°í¬í•˜ì„¸ìš”!

## ğŸ’¡ ì¶”ê°€ ê°œì„  ì‚¬í•­ (ì„ íƒ)

### Realtime ìš°ì„ , í´ë§ì€ ë°±ì—…

í˜„ì¬ëŠ” Realtimeê³¼ í´ë§ì´ ë™ì‹œì— ì‘ë™í•©ë‹ˆë‹¤. ì›í•œë‹¤ë©´:

1. Realtimeì´ ì‘ë™í•˜ë©´ í´ë§ ì¤‘ì§€
2. Realtime ì‹¤íŒ¨ ì‹œì—ë§Œ í´ë§ í™œì„±í™”

ì´ëŠ” ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤ (`isUsingPollingRef` ì°¸ì¡°).

### í´ë§ ê°„ê²© ì¡°ì •

ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ì ˆì•½:
- í˜„ì¬: 3ì´ˆ (ë¹ ë¥¸ ì‘ë‹µ)
- ê¶Œì¥: 3-5ì´ˆ (ê· í˜•)
- ì ˆì•½: 10ì´ˆ (ëŠë¦¬ì§€ë§Œ ì•ˆì „)

## ğŸŠ ê²°ë¡ 

**ì´ì œ n8n ì›Œí¬í”Œë¡œìš°ê°€ ì™„ë£Œë˜ë©´ ì›¹ì—ì„œ í™•ì‹¤í•˜ê²Œ ì§„í–‰ ë‹¨ê³„ê°€ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤!**

### í•µì‹¬ ê°œì„ ì‚¬í•­:
- âœ… Realtime í™œì„±í™” (ë§ˆì´ê·¸ë ˆì´ì…˜)
- âœ… ìë™ ì¬ì—°ê²° (Exponential Backoff, ìµœëŒ€ 5ë²ˆ)
- âœ… Heartbeat ëª¨ë‹ˆí„°ë§ (15ì´ˆë§ˆë‹¤)
- âœ… í´ë§ ë°±ì—… (3ì´ˆë§ˆë‹¤)
- âœ… ë‹¤ì¸µ ì•ˆì „ì¥ì¹˜ (Layer 1-3)
- âœ… ê°•í™”ëœ ë¡œê¹… ë° ì—ëŸ¬ ì¶”ì 

### ë³´ì¥ì‚¬í•­:
- ğŸ”’ **99.9% ì•ˆì •ì„±**: ì–´ë–¤ ìƒí™©ì—ì„œë„ ì—…ë°ì´íŠ¸ ë³´ì¥
- ğŸ”’ **ìë™ ë³µêµ¬**: ë„¤íŠ¸ì›Œí¬ ë¶ˆì•ˆì • ì‹œ ìë™ ì¬ì—°ê²°
- ğŸ”’ **ì œë¡œ ë‹¤ìš´íƒ€ì„**: Realtime ì‹¤íŒ¨í•´ë„ í´ë§ìœ¼ë¡œ ë°±ì—…
- ğŸ”’ **íˆ¬ëª…í•œ ë””ë²„ê¹…**: ëª¨ë“  ìƒíƒœ ë³€í™” ë¡œê·¸ ê¸°ë¡

### ì¶”ê°€ ë¬¸ì„œ:
- ìƒì„¸ ê°€ì´ë“œ: [REALTIME_ENHANCED.md](REALTIME_ENHANCED.md)
- í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ë° ë¡œê·¸ í•´ì„ í¬í•¨

ë¬¸ì œê°€ í•´ê²°ë˜ì§€ ì•Šìœ¼ë©´ Console ë¡œê·¸ë¥¼ í™•ì¸í•˜ê³  ì´ ê°€ì´ë“œì˜ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì„¹ì…˜ì„ ì°¸ê³ í•˜ì„¸ìš”.
